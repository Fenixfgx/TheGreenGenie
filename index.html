<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>The Green Genie - Follajes Verdes que Conquistan el Mundo</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="The Green Genie, follajes, plantas, decoración, jardines" name="keywords">
    <meta content="The Green Genie - Empresa especializada en follajes y plantas para decoración" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <!-- NC Slider Stylesheet -->
    <link href="NC/style.css" rel="stylesheet">
    <!-- Contact Parallax Stylesheet -->
    <link href="css/contact-parallax.css" rel="stylesheet">
    <!-- Premium Footer Stylesheet -->
    <link href="css/premium-footer.css" rel="stylesheet">
    <!-- Premium Gallery Stylesheet -->
    <link href="css/premium-gallery.css" rel="stylesheet">
    <!-- Neumorphic Story Stylesheet -->
    <link href="css/neumorphic-story.css" rel="stylesheet">
</head>

<body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-primary d-none d-lg-block topbar" id="topbar">
        <div class="row py-2 px-lg-5">
            <div class="col-lg-6 text-left mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center">
                    <small class="text-white"><i class="fa fa-phone-alt mr-2"></i>+57 3222180626</small>
                    <small class="px-3 text-white">|</small>
                    <small class="text-white"><i class="fa fa-envelope mr-2"></i>salesmanagerthegreengenie@hotmail.com</small>
                </div>
            </div>
            <div class="col-lg-6 text-right">
                <div class="d-inline-flex align-items-center">
                    <a class="text-white px-2" href="https://www.facebook.com/profile.php?id=100088185960212&mibextid=ZbWKwL">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="text-white px-2" href="https://instagram.com/the_green_genie_sas?igshid=ZDdkNTZiNTM=">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="text-white pl-2" href="https://youtube.com/@GREENGENIE-qn4yt">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <!-- Language Toggle -->
                    <div class="language-toggle-container">
                        <button class="language-toggle" id="languageToggle" onclick="toggleLanguage()">
                            <div class="language-toggle-ball"></div>
                        </button>
                        <div class="language-labels">
                            <span class="language-label active" id="spanishLabel">ES</span>
                            <span class="language-label" id="englishLabel">EN</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="navbar-container" id="navbarContainer">
        <div class="container-fluid p-0">
        <nav class="navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0 px-lg-5">
            <a href="index.html" class="navbar-brand ml-lg-3">
                <img src="img/logo.png" alt="The Green Genie" style="height: 91px;">
            </a>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between px-lg-3" id="navbarCollapse">
                <div class="navbar-nav m-auto py-0">
                    <a href="index.html" class="nav-item nav-link active" data-i18n="nav.home">Home</a>
                    <a href="#products-section" class="nav-item nav-link" onclick="scrollToProducts(event)" data-i18n="nav.products">Products</a>
                    <a href="#about" class="nav-item nav-link" onclick="scrollToSection(event, 'about')" data-i18n="nav.about">About Us</a>
                    <a href="#team" class="nav-item nav-link" onclick="scrollToSection(event, 'team')" data-i18n="nav.team">Our Team</a>
                    <a href="#crops" class="nav-item nav-link" onclick="scrollToSection(event, 'crops')" data-i18n="nav.crops">Our Crops</a>
                    <a href="#contact-section" class="nav-item nav-link" onclick="scrollToContact(event)" data-i18n="nav.contact">Contact Us</a>
                    <div class="mobile-language-toggle-wrapper d-lg-none">
                        <span class="label-text">Idioma</span>
                        <button class="language-toggle" id="languageToggleMobile" onclick="toggleLanguage('mobile')">
                            <div class="language-toggle-ball"></div>
                        </button>
                        <div class="language-labels ml-2">
                            <span class="language-label active" id="spanishLabelMobile">ES</span>
                            <span class="language-label" id="englishLabelMobile">EN</span>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        </div>
    </div>
    <!-- Navbar End -->


    <!-- Video Header Start -->
    <div class="container-fluid p-0 mb-5 pb-5 main-content" id="mainContent">
        <div class="video-header">
            <video class="w-100 h-100" autoplay muted loop>
                <source src="assets/30.m4v" type="video/mp4">
                Tu navegador no soporta el elemento de video.
            </video>
            <div class="video-overlay position-absolute w-100 h-100" style="background: rgba(0, 0, 0, 0.4); top: 0; left: 0; z-index: 1;"></div>
            <div class="position-absolute w-100 h-100 d-flex flex-column align-items-center justify-content-center">
                <div class="p-3 text-center" style="max-width: 900px; z-index: 2;">
                    <h6 class="text-white text-uppercase mb-3 animate__animated animate__fadeInDown" style="letter-spacing: 3px;">The Green Genie</h6>
                    <h1 class="display-2 text-capitalize text-white mb-3 font-weight-bold" style="font-family: math;" data-i18n="hero.title">Verdes que conquistan el Mundo</h1>
                    <p class="text-white mx-md-5 px-5 mb-4" style="font-size: 1.2rem;" data-i18n="hero.subtitle">Descubre la belleza natural con nuestros follajes y plantas de la más alta calidad</p>
                    <a class="btn btn-primary py-3 px-5 mt-3 animate__animated animate__fadeInUp" href="#contact-section" onclick="scrollToContact(event)" style="font-size: 1.1rem;" data-i18n="hero.button">Contáctanos</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Video Header End -->


    <!-- Nuestros Productos Start -->
    <div class="container-fluid py-3" style="background-color: #f8f9fa;" id="products-section">
        <div class="container">
            <div class="row justify-content-center text-center mb-2">
                <div class="col-lg-8">
                    <h6 class="d-inline-block bg-light text-primary text-uppercase py-1 px-2 mb-1" data-i18n="products.title">Nuestros Productos</h6>
                    <h1 class="mb-2" style="font-size:2rem;" data-i18n="products.subtitle">Follajes y Plantas de Alta Calidad</h1>
                    <p class="text-muted mb-3" style="font-size:0.95rem;" data-i18n="products.description">Descubre nuestra amplia selección de plantas y follajes cuidadosamente seleccionados para transformar cualquier espacio</p>
                    
                    <!-- Action Buttons -->
                    <div class="d-flex justify-content-center flex-wrap gap-3 mb-2">
                        <a href="#" class="btn btn-primary px-4 py-2" onclick="openProductGallery(event)" data-i18n="products.view_more">
                            <i class="fas fa-eye me-2"></i>Ver Más
                        </a>
                        <a href="assets/catalogo.pdf" class="btn btn-outline-primary px-4 py-2" target="_blank" data-i18n="products.download_catalog">
                            <i class="fas fa-download me-2"></i>Descargar Catálogo PDF
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Products Slider -->
            <div class="products-slider-container">
                <div class="swiper products-swiper">
                    <div class="swiper-wrapper" id="productsWrapper">
                        <!-- Los productos se cargarán dinámicamente aquí -->
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Nuestros Productos End -->

    <!-- Nuestros Clientes En El Mundo Start -->
    <section id="world-clients" class="py-5" style="background: radial-gradient(circle at 30% 30%, #0d2538, #06121b 60%, #040d14); position:relative; overflow:hidden;">
        <div class="container mb-4 text-center">
            <h6 class="d-inline-block text-uppercase py-1 px-3 mb-2" style="background:rgba(255,255,255,0.08); color:#82e6b4; border-radius:20px; font-size:0.75rem; letter-spacing:2px;" data-i18n="clients.title">Nuestros Clientes</h6>
            <h2 class="mb-3" style="color:#ffffff; font-weight:700; font-size:2.1rem;" data-i18n="clients.subtitle">Presencia Global</h2>
            <p class="mx-auto mb-3" style="max-width:760px; color:#b9d5e5; font-size:0.95rem;" data-i18n="clients.description">Estamos llevando el verde a distintos rincones del planeta. Estos indicadores reflejan nuestra trayectoria y alcance sostenible en cultivos y proyectos especializados.</p>
        </div>
        <div class="container">
            <div class="row align-items-stretch">
                <div class="col-lg-3 mb-4 mb-lg-0">
                    <div class="h-100 d-flex flex-column justify-content-between" style="gap:18px;">
                        <div class="p-4" style="background:linear-gradient(160deg,#113142,#0b2533); border:1px solid rgba(255,255,255,0.06); border-radius:16px; box-shadow:0 8px 18px -6px rgba(0,0,0,0.5);">
                            <div style="font-size:0.75rem; letter-spacing:1px; text-transform:uppercase; color:#6dbfa0; font-weight:600;" data-i18n="clients.active_clients">Clientes Activos</div>
                            <div style="font-size:2.3rem; font-weight:700; color:#82e6b4; line-height:1;">70</div>
                            <div style="color:#9fc9d8; font-size:0.8rem;" data-i18n="clients.sustainable_relationships">Relaciones comerciales sostenibles</div>
                        </div>
                        <div class="p-4" style="background:linear-gradient(160deg,#113142,#0b2533); border:1px solid rgba(255,255,255,0.06); border-radius:16px; box-shadow:0 8px 18px -6px rgba(0,0,0,0.5);">
                            <div style="font-size:0.75rem; letter-spacing:1px; text-transform:uppercase; color:#6dbfa0; font-weight:600;" data-i18n="clients.experience_years">Años de Experiencia</div>
                            <div style="font-size:2.3rem; font-weight:700; color:#82e6b4; line-height:1;">20</div>
                            <div style="color:#9fc9d8; font-size:0.8rem;" data-i18n="clients.consolidated_trajectory">Trayectoria consolidada</div>
                        </div>
                        <div class="p-4" style="background:linear-gradient(160deg,#113142,#0b2533); border:1px solid rgba(255,255,255,0.06); border-radius:16px; box-shadow:0 8px 18px -6px rgba(0,0,0,0.5);">
                            <div style="font-size:0.75rem; letter-spacing:1px; text-transform:uppercase; color:#6dbfa0; font-weight:600;" data-i18n="clients.production_hectares">Hectáreas de Producción</div>
                            <div style="font-size:2.3rem; font-weight:700; color:#82e6b4; line-height:1;">35</div>
                            <div style="color:#9fc9d8; font-size:0.8rem;" data-i18n="clients.capacity_scale">Capacidad y escala verde</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div id="clientsMap" style="width:100%; height:520px; border-radius:18px; background:linear-gradient(135deg,#0a1e2c,#093347); box-shadow:0 20px 40px -10px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05); position:relative; overflow:hidden;"></div>
                </div>
            </div>
        </div>
        <div class="position-absolute" style="pointer-events:none; inset:0; background:radial-gradient(circle at 80% 20%, rgba(130,230,180,0.08), transparent 60%), radial-gradient(circle at 20% 80%, rgba(80,150,255,0.08), transparent 55%);"></div>
    </section>
    <!-- Nuestros Clientes En El Mundo End -->


    <!-- About Start -->
    <div class="container-fluid py-5" id="about" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9f4f0 100%);">
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-lg-6 pb-5 pb-lg-0">
                    <!-- About Slider -->
                    <div class="about-slider-container position-relative">
                        <div class="swiper about-swiper" style="border-radius: 15px; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.1);">
                            <div class="swiper-wrapper" id="aboutWrapper">
                                <!-- Imágenes cargadas dinámicamente -->
                            </div>
                        </div>
                        <!-- Decorative elements -->
                        <div class="position-absolute" style="top: -20px; left: -20px; width: 80px; height: 80px; background: rgba(27, 94, 32, 0.1); border-radius: 50%; z-index: -1;"></div>
                        <div class="position-absolute" style="bottom: -30px; right: -30px; width: 120px; height: 120px; background: rgba(27, 94, 32, 0.05); border-radius: 50%; z-index: -1;"></div>
                    </div>
                </div>
                <div class="col-lg-6 pl-lg-5">
                    <div class="about-content">
                        <h6 class="d-inline-block text-white text-uppercase py-2 px-4 mb-4" style="background: linear-gradient(45deg, #1B5E20, #2E7D32); border-radius: 25px; font-size: 0.8rem; letter-spacing: 1.5px; box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);" data-i18n="about.title">Sobre Nosotros</h6>
                        <h1 class="mb-4" style="color: #1B5E20; font-weight: 700; font-size: 2.5rem; line-height: 1.">Somos <span style="color: #2E7D32;">The Green Genie</span></h1>
                        <div class="position-relative mb-4">
                            <div class="border-left pl-4" style="border-color: #1B5E20 !important; border-width: 4px !important;">
                                <p style="color: #555; font-size: 1.1rem; line-height: 1.8; margin: 0;" data-i18n="about.description">Una empresa familiar dedicada a la producción y exportación de follajes premium. Nuestro mayor compromiso es con la calidad, la confiabilidad y la sostenibilidad. Por eso, nuestras más de 35 hectáreas en producción se cultivan bajo prácticas agrícolas responsables que garantizan frescura y excelencia en cada tallo.</p>
                            </div>
                        </div>
                        <button class="neumorphic-btn" onclick="handleStoryModalClick(event)">
                            <span class="btn-content">
                                <i class="fas fa-book-open btn-icon"></i>
                                <span class="btn-text" data-i18n="story.button">Conoce Nuestra Historia</span>
                            </span>
                            <div class="btn-shine"></div>
                        </button>
                        <br></br>
                        <!-- Stats -->
                        <div class="row mb-4">
                            <div class="col-6">
                                <div class="text-center p-4" style="background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); border: 2px solid #f0f8f0;">
                                    <h3 class="display-4 mb-2" style="color: #1B5E20; font-weight: 700;">35+</h3>
                                    <h6 class="text-uppercase mb-0" style="color: #666; font-size: 0.85rem; letter-spacing: 1px;" data-i18n="about.stats.hectares">Hectáreas</h6>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-4" style="background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); border: 2px solid #f0f8f0;">
                                    <h3 class="display-4 mb-2" style="color: #1B5E20; font-weight: 700;">20+</h3>
                                    <h6 class="text-uppercase mb-0" style="color: #666; font-size: 0.85rem; letter-spacing: 1px;" data-i18n="about.stats.years">Años</h6>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->


    <!-- Team Start -->
    <div class="container-fluid py-5" id="team">
        <div class="container pt-5">
            <div class="row justify-content-center text-center">
                <div class="col-lg-6">
                    <h6 class="d-inline-block bg-light text-primary text-uppercase py-1 px-2" data-i18n="team.title">Nuestro Equipo</h6>
                    <h1 class="mb-5"> The Green Genie</h1>
                </div>
            </div>
            
            <!-- Team Slider -->
            <div class="owl-carousel team-carousel" id="teamCarousel">
                <!-- Los miembros del equipo se cargarán dinámicamente aquí -->
            </div>
        </div>
    </div>
    <!-- Team End -->

    <!-- Our Crops Start -->
    <div class="container-fluid py-5" id="crops" style="padding-top: 0px !important; background-color: #eaf4f1;">
        <div class="container py-5">
            <div class="text-center">
                <h6 class="d-inline-block text-primary text-uppercase bg-light py-1 px-2" data-i18n="crops.title">Our Crops</h6>
                <h1 class="mb-5" data-i18n="crops.subtitle">Discover Our Beautiful Plants</h1>
            </div>
            <!-- NC Slider -->
            <div class="slider" id="slider" style="--img-prev:url(https://www.theGreenGenie.com.co/images/sl.jpeg);"> 
              <div class="slider__content" id="slider-content">
                <div class="slider__images">
                  <div class="slider__images-item slider__images-item--active" data-id="1"><img src="https://www.theGreenGenie.com.co/images/sl.jpeg"/></div>
                  <div class="slider__images-item" data-id="2"><img src="https://www.theGreenGenie.com.co/images/DSC01420.jpg"/></div>
                  <div class="slider__images-item" data-id="3"><img src="https://www.theGreenGenie.com.co/images/DSC01441.jpg"/></div>
                  <div class="slider__images-item" data-id="4"><img src="https://www.theGreenGenie.com.co/images/DSC01468.jpg"/></div>
                  <div class="slider__images-item" data-id="5"><img src="https://www.theGreenGenie.com.co/images/fondo1.jpeg"/></div>
                  <div class="slider__images-item" data-id="6"><img src="https://www.theGreenGenie.com.co/images/fondo2.jpeg"/></div>
                </div>
                <div class="slider__text">
                  <div class="slider__text-item slider__text-item--active" data-id="1">
                    <div class="slider__text-item-head">
                      <h3>Arboreal_Serenity</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"The majesty of fully-grown eucalyptus."</p>
                    </div>
                  </div>
                  <div class="slider__text-item" data-id="2">
                    <div class="slider__text-item-head">
                      <h3>Immersed_in_Nature</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"Immersed in a sea of leaves, connect with the essence of nature."</p>
                    </div>
                  </div>
                  <div class="slider__text-item" data-id="3">
                    <div class="slider__text-item-head">
                      <h3>Cultivating_Abundance</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"Dedication and care in the growth of ruscus in the greenhouse, where life flourishes."</p>
                    </div>
                  </div>
                  <div class="slider__text-item" data-id="4">
                    <div class="slider__text-item-head">
                      <h3>Vital_Connection</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"A hand that tenderly holds the growing life of ruscus."</p>
                    </div>
                  </div>
                  <div class="slider__text-item" data-id="5">
                    <div class="slider__text-item-head">
                      <h3>Rejuvenating_Essence</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"The green expanse of foliage, a refuge of peace and tranquility amidst nature."</p>
                    </div>
                  </div>
                  <div class="slider__text-item" data-id="6">
                    <div class="slider__text-item-head">
                      <h3>Amidst_Sparkles</h3>
                    </div>
                    <div class="slider__text-item-info">
                      <p>"In the midst of glittering plants, a magical universe unfolds, where imagination comes to life."</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="slider__nav">
                <div class="slider__nav-arrows">
                  <div class="slider__nav-arrow slider__nav-arrow--left" id="left">to left</div>
                  <div class="slider__nav-arrow slider__nav-arrow--right" id="right">to right</div>
                </div>
                <div class="slider__nav-dots" id="slider-dots">
                  <div class="slider__nav-dot slider__nav-dot--active" data-id="1"></div>
                  <div class="slider__nav-dot" data-id="2"></div>
                  <div class="slider__nav-dot" data-id="3"></div>
                  <div class="slider__nav-dot" data-id="4"></div>
                  <div class="slider__nav-dot" data-id="5"></div>
                  <div class="slider__nav-dot" data-id="6"></div>
                </div>
              </div>
            </div>
        </div>
    </div>
    <!-- Our Crops End -->

    <!-- Contact Us Parallax Section Start -->
    <section id="contact-section" class="contact-parallax-section">
        <div class="contact-parallax-overlay"></div>
        <div class="container contact-content">
            <h6 style="margin-bottom: 32px; box-shadow: -4px 4px 12px 0 gray; background-color: green !important; color: white !important; font-size: 18px;" class="d-inline-block bg-light text-primary text-uppercase py-1 px-2" data-i18n="contact.title">Contáctanos</h6>

            <div class="contact-team-grid">
                <!-- CEO - Efraín Rodriguez -->
                <div class="contact-member">
                    <div class="contact-member-photo">
                        <img src="img/team/pr1.png" alt="Efraín Rodriguez" onerror="this.src='img/team-1.jpg'">
                    </div>
                    <h3 class="contact-member-name">Efraín Rodriguez</h3>
                    <p class="contact-member-role" data-i18n="contact.role.ceo">CEO</p>
                    <p class="contact-member-company" data-i18n="contact.company">THE GREEN GENIE</p>
                    <div class="contact-social-buttons">
                        <a href="https://wa.me/+573209769753" target="_blank" class="contact-social-btn contact-whatsapp" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="skype:EFRA-TGG?chat" target="_blank" class="contact-social-btn contact-skype" title="Skype">
                            <i class="fab fa-skype"></i>
                        </a>
                        <a href="mailto:greengenieceo@hotmail.com" target="_blank" class="contact-social-btn contact-email" title="Email">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>

                <!-- Sales Manager - Cristian Rodriguez -->
                <div class="contact-member">
                    <div class="contact-member-photo">
                        <img src="img/team/pr2.png" alt="Cristian Rodriguez" onerror="this.src='img/team-2.jpg'">
                    </div>
                    <h3 class="contact-member-name">Cristian Rodriguez</h3>
                    <p class="contact-member-role" data-i18n="contact.role.sales_manager">SALES MANAGER</p>
                    <p class="contact-member-company" data-i18n="contact.company">THE GREEN GENIE</p>
                    <div class="contact-social-buttons">
                        <a href="https://wa.me/+573222180626" target="_blank" class="contact-social-btn contact-whatsapp" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="skype:CristianR-TGG?chat" target="_blank" class="contact-social-btn contact-skype" title="Skype">
                            <i class="fab fa-skype"></i>
                        </a>
                        <a href="mailto:Salesmanagerthegreengenie@hotmail.com" target="_blank" class="contact-social-btn contact-email" title="Email">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="contact-qr-grid">
                <img src="https://www.thegreengenie.com.co/images/QRTE.png" alt="QR Efraín" loading="lazy" style="width: 215px;">
                <img src="https://www.thegreengenie.com.co/images/QRTC.png" alt="QR Cristian" loading="lazy" style="width: 215px;">
                <img src="https://www.thegreengenie.com.co/images/QRTEJ.png" alt="QR Jazmin" loading="lazy" style="width: 215px;">
                <img src="https://www.thegreengenie.com.co/images/QRTL.png" alt="QR Liliana" loading="lazy" style="width: 215px;">
            </div>
        </div>
    </section>
    <!-- Contact Us Parallax Section End -->

    <!-- Testimonial Start -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-lg-6 pb-5 pb-lg-0">
                    <img class="img-fluid w-100" src="img/logo.png" alt="" style="box-shadow: -7px 4px 20px 0 #808080bf; border-radius: 52px;">
                </div>
                <div class="col-lg-6">
                    <h6 class="d-inline-block text-primary text-uppercase bg-light py-1 px-2" data-i18n="testimonials.title">Testimonial</h6>
                    <h1 class="mb-4" data-i18n="testimonials.subtitle">What Our Clients Say!</h1>
                    <div class="owl-carousel testimonial-carousel">
                        <div class="position-relative">
                            <i class="fa fa-3x fa-quote-right text-primary position-absolute" style="top: -6px; right: 0;"></i>
                            <div class="d-flex align-items-center mb-3">
                                <img class="img-fluid rounded-circle" src="img/testimonial-1.jpg" style="width: 60px; height: 60px;" alt="">
                                <div class="ml-3">
                                    <h6 class="text-uppercase">Client Name</h6>
                                    <span>Profession</span>
                                </div>
                            </div>
                            <p class="m-0">Aliquyam sed elitr elitr erat sed diam ipsum eirmod eos lorem nonumy. Tempor sea ipsum diam  sed clita dolore eos dolores magna erat dolore sed stet justo et dolor.</p>
                        </div>
                        <div class="position-relative">
                            <i class="fa fa-3x fa-quote-right text-primary position-absolute" style="top: -6px; right: 0;"></i>
                            <div class="d-flex align-items-center mb-3">
                                <img class="img-fluid rounded-circle" src="img/testimonial-2.jpg" style="width: 60px; height: 60px;" alt="">
                                <div class="ml-3">
                                    <h6 class="text-uppercase">Client Name</h6>
                                    <span>Profession</span>
                                </div>
                            </div>
                            <p class="m-0">Aliquyam sed elitr elitr erat sed diam ipsum eirmod eos lorem nonumy. Tempor sea ipsum diam  sed clita dolore eos dolores magna erat dolore sed stet justo et dolor.</p>
                        </div>
                        <div class="position-relative">
                            <i class="fa fa-3x fa-quote-right text-primary position-absolute" style="top: -6px; right: 0;"></i>
                            <div class="d-flex align-items-center mb-3">
                                <img class="img-fluid rounded-circle" src="img/testimonial-3.jpg" style="width: 60px; height: 60px;" alt="">
                                <div class="ml-3">
                                    <h6 class="text-uppercase">Client Name</h6>
                                    <span>Profession</span>
                                </div>
                            </div>
                            <p class="m-0">Aliquyam sed elitr elitr erat sed diam ipsum eirmod eos lorem nonumy. Tempor sea ipsum diam  sed clita dolore eos dolores magna erat dolore sed stet justo et dolor.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Testimonial End -->


    <!-- Footer Start -->
    <footer class="premium-footer" style="margin-top: 90px;">
        <div class="container">
            <div class="row align-items-center">
                <!-- Brand & Contact Section -->
                <div class="col-lg-8 mb-4 mb-lg-0">
                    <div class="footer-brand">
                        <div class="brand-logo">
                            <h3 class="brand-name" data-i18n="footer.brand_name">The Green Genie</h3>
                        </div>
                        <p class="brand-tagline" data-i18n="footer.brand_tagline">Premium Foliage Export Solutions</p>
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-globe"></i>
                                <span data-i18n="footer.global_distribution">Global Foliage Distribution</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span>salesmanagerthegreengenie@hotmail.com</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social & Newsletter Section -->
                <div class="col-lg-4">
                    <div class="footer-section">
                        <h5 class="section-title" data-i18n="footer.stay_connected">Stay Connected</h5>
                        <div class="social-links">
                            <a href="mailto:salesmanagerthegreengenie@hotmail.com" class="social-link" title="Email">
                                <i class="fas fa-envelope"></i>
                            </a>
                            <a href="https://instagram.com/the_green_genie_sas?igshid=ZDdkNTZiNTM=" class="social-link" title="Instagram" target="_blank">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://www.facebook.com/profile.php?id=100088185960212&mibextid=ZbWKwL" class="social-link" title="Facebook" target="_blank">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://youtube.com/@GREENGENIE-qn4yt" class="social-link" title="YouTube" target="_blank">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="footer-bottom">
                <div class="row align-items-center">
                    <div class="col-md-12 text-center">
                        <p class="copyright" >
                            2025 <span class="highlight">The Green Genie</span>. All rights reserved.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Decorative Elements -->
        <div class="footer-decoration">
            <div class="leaf leaf-1"><i class="fas fa-leaf"></i></div>
            <div class="leaf leaf-2"><i class="fas fa-leaf"></i></div>
            <div class="leaf leaf-3"><i class="fas fa-leaf"></i></div>
        </div>
    </footer>
    
    <!-- Footer End -->


    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/573222180626" class="btn btn-lg btn-success whatsapp-float" target="_blank" title="Chat on WhatsApp"><i class="fab fa-whatsapp"></i></a>
    
    <!-- Back to Top -->
    <a href="#" class="back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    
    <!-- VanillaTilt.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.1/vanilla-tilt.min.js" integrity="sha512-7V5ZSmHgwlHGawEq+y3OC/YLXTr4Wr9PXgC7cmk6VwBEm90LkAMPx/+qvOB0fOkH1ZZ1xdjQ671O5SpM90SEHw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- Products Slider Script -->
    <script>
        // Función para cargar productos desde JSON
        async function loadProducts() {
            try {
                if(location.protocol === 'file:' && Array.isArray(window.PRODUCTS_DATA)){
                    console.info('[Products] Usando datos offline products.js:', window.PRODUCTS_DATA.length);
                    renderProducts(window.PRODUCTS_DATA);
                    return;
                }
                const response = await fetch('data/products.json');
                if(!response.ok) throw new Error('HTTP '+response.status);
                const products = await response.json();
                renderProducts(products);
            } catch (error) {
                console.warn('[Products] Fallback por error/carga offline:', error);
                loadFallbackProducts();
            }
        }
        function renderProducts(products){
            const wrapper = document.getElementById('productsWrapper');
            if(!wrapper) return;
            wrapper.innerHTML = '';
            products.forEach(product => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `
                        <div class="product-slide">
                            <img src="${product.image}" alt="${product.name}" class="product-image">
                            <div class="product-info">
                                <h3 class="product-name">${product.name}</h3>
                                <p class="product-description">${product.description}</p>
                            </div>
                        </div>`;
                wrapper.appendChild(slide);
            });
            initializeSwiper();
        }
        
        // Productos de respaldo en caso de error
        function loadFallbackProducts() {
            const fallbackProducts = [
                { name: "Monstera Deliciosa", image: "img/service-1.jpg", description: "Planta tropical de interior con hojas perforadas" },
                { name: "Ficus Lyrata", image: "img/service-2.jpg", description: "Árbol de hojas grandes ideal para decoración" },
                { name: "Sansevieria", image: "img/service-3.jpg", description: "Planta resistente perfecta para principiantes" },
                { name: "Pothos Dorado", image: "img/service-4.jpg", description: "Planta colgante de fácil cuidado" },
                { name: "Philodendron", image: "img/service-5.jpg", description: "Follaje exuberante para espacios con poca luz" },
                { name: "Calathea", image: "img/service-6.jpg", description: "Planta de hojas ornamentales únicas" },
                { name: "Anthurium", image: "img/service-1.jpg", description: "Planta con flores rojas brillantes" },
                { name: "Pachira Aquatica", image: "img/service-2.jpg", description: "Árbol del dinero para oficinas" }
            ];
            
            const wrapper = document.getElementById('productsWrapper');
            wrapper.innerHTML = '';
            
            fallbackProducts.forEach(product => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `
                    <div class="product-slide">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                        </div>
                    </div>
                `;
                wrapper.appendChild(slide);
            });
            
            initializeSwiper();
        }
        
        // Inicializar Swiper
        function initializeSwiper() {
            let autoplayTimeout;
            
            const swiper = new Swiper('.products-swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                loopFillGroupWithBlank: false,
                centeredSlides: false,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                    enabled: false, // Deshabilitamos los puntos
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                breakpoints: {
                    640: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    768: {
                        slidesPerView: 2,
                        spaceBetween: 30,
                    },
                    1024: {
                        slidesPerView: 3,
                        spaceBetween: 40,
                    },
                    1200: {
                        slidesPerView: 4,
                        spaceBetween: 50,
                    },
                },
                effect: 'slide',
                speed: 800,
                grabCursor: true,
                touchRatio: 1,
                threshold: 5,
                allowTouchMove: true,
                watchSlidesProgress: true,
                on: {
                    init: function () {
                        // Asegurar que el loop funcione correctamente
                        this.loopFix();
                    },
                    navigationNext: function () {
                        // Pausar autoplay por 10 segundos al hacer clic en next
                        this.autoplay.stop();
                        clearTimeout(autoplayTimeout);
                        autoplayTimeout = setTimeout(() => {
                            this.autoplay.start();
                        }, 10000);
                    },
                    navigationPrev: function () {
                        // Pausar autoplay por 10 segundos al hacer clic en prev
                        this.autoplay.stop();
                        clearTimeout(autoplayTimeout);
                        autoplayTimeout = setTimeout(() => {
                            this.autoplay.start();
                        }, 10000);
                    },
                    touchStart: function () {
                        // Pausar autoplay al tocar
                        this.autoplay.stop();
                        clearTimeout(autoplayTimeout);
                    },
                    touchEnd: function () {
                        // Reanudar autoplay después de 5 segundos de tocar
                        clearTimeout(autoplayTimeout);
                        autoplayTimeout = setTimeout(() => {
                            this.autoplay.start();
                        }, 5000);
                    },
                },
            });
            
            // Manejar clics en los botones de navegación manualmente
            document.querySelector('.swiper-button-next').addEventListener('click', function() {
                swiper.slideNext();
                swiper.autoplay.stop();
                clearTimeout(autoplayTimeout);
                autoplayTimeout = setTimeout(() => {
                    swiper.autoplay.start();
                }, 10000);
            });
            
            document.querySelector('.swiper-button-prev').addEventListener('click', function() {
                swiper.slidePrev();
                swiper.autoplay.stop();
                clearTimeout(autoplayTimeout);
                autoplayTimeout = setTimeout(() => {
                    swiper.autoplay.start();
                }, 10000);
            });
        }
        
        // Función para inicializar el slider del equipo
        function initializeTeamCarousel() {
            try {
                const teamCarousel = $('#teamCarousel');
                
                if (!teamCarousel.length) {
                    console.warn('[Team Carousel] No se encontró el contenedor del carousel');
                    return;
                }
                
                // Destruir instancia previa si existe
                if (teamCarousel.hasClass('owl-loaded')) {
                    teamCarousel.trigger('destroy.owl.carousel').removeClass('owl-loaded');
                    teamCarousel.find('.owl-stage-outer').children().unwrap();
                }
                
                // Configurar Owl Carousel similar al de testimonios pero adaptado para el equipo
                teamCarousel.owlCarousel({
                    loop: true,
                    margin: 30,
                    nav: true,
                    navText: [
                        '<i class="fa fa-angle-left btn-primary"></i>',
                        '<i class="fa fa-angle-right btn-primary"></i>'
                    ],
                    dots: false,
                    autoplay: true,
                    autoplayTimeout: 4000,
                    autoplaySpeed: 800,
                    autoplayHoverPause: true,
                    smartSpeed: 800,
                    responsive: {
                        0: {
                            items: 1
                        },
                        576: {
                            items: 2
                        },
                        768: {
                            items: 2
                        },
                        992: {
                            items: 3
                        },
                        1200: {
                            items: 4
                        }
                    }
                });
                
                console.info('[Team Carousel] Owl Carousel inicializado correctamente');
                
            } catch (error) {
                console.error('[Team Carousel] Error al inicializar:', error);
            }
        }
        
        // Cargar productos al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
        });
        
        // Función para cargar slider de About
        function loadAboutSlider() {
            const wrapper = document.getElementById('aboutWrapper');
            if (!wrapper || !window.ABOUT_IMAGES) return;
            wrapper.innerHTML = '';
            window.ABOUT_IMAGES.forEach(imgSrc => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `<img src="${imgSrc}" alt="" class="img-fluid w-100" style="height:400px; object-fit:cover;">`;
                wrapper.appendChild(slide);
            });
            // Inicializar Swiper para About
            new Swiper('.about-swiper', {
                slidesPerView: 1,
                spaceBetween: 0,
                loop: true,
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false,
                },
                effect: 'fade',
                fadeEffect: {
                    crossFade: true
                },
                speed: 1000,
            });
        }
        
        // Cargar slider de about al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            loadAboutSlider();
            loadTeam();
        });

        // Función para cargar miembros del equipo
        // Función auxiliar para generar botones sociales
        function generateSocialButtons(social) {
            const socialButtons = [];
            const socialLinks = [
                { key: 'whatsapp', icon: 'fab fa-whatsapp', title: 'WhatsApp', url: social.twitter },
                { key: 'facebook', icon: 'fab fa-facebook-f', title: 'Facebook', url: social.facebook },
                { key: 'linkedin', icon: 'fab fa-linkedin-in', title: 'LinkedIn', url: social.linkedin },
                { key: 'instagram', icon: 'fab fa-instagram', title: 'Instagram', url: social.instagram }
            ];

            socialLinks.forEach(link => {
                if (link.url && link.url !== '#' && link.url !== '') {
                    socialButtons.push(`
                        <a class="btn btn-outline-primary btn-square mr-2" href="${link.url}" title="${link.title}">
                            <i style="margin-right: 0rem;" class="${link.icon}"></i>
                        </a>
                    `);
                }
            });

            return socialButtons.length > 0 ? socialButtons.join('') : '';
        }

        function loadTeam() {
            try {
                const teamData = window.TEAM_DATA || [];
                const teamCarousel = document.getElementById('teamCarousel');

                if (!teamCarousel) {
                    console.warn('[Team] No se encontró el contenedor del equipo');
                    return;
                }

                teamCarousel.innerHTML = '';

                teamData.forEach(member => {
                    const teamItem = document.createElement('div');
                    teamItem.className = 'item';

                    // Generar botones sociales
                    const socialButtons = generateSocialButtons(member.social);
                    const socialSection = socialButtons ? `
                        <div class="team-social bg-dark text-center">
                            ${socialButtons}
                        </div>
                    ` : '';

                    // Agregar clase condicional para hover effect
                    const hasSocialClass = socialButtons ? 'has-social' : '';

                    teamItem.innerHTML = `
                        <div class="team position-relative overflow-hidden mb-5 ${hasSocialClass}" style="border-radius: 12px; min-width: 240px;">
                            <img class="img-fluid" src="${member.image}" alt="${member.name}">
                            <div class="position-relative text-center">
                                <div class="team-text bg-primary text-white">
                                    <h5 class="text-white text-uppercase" style="font-size: 1.1rem;">${member.name}</h5>
                                    <p class="m-0">${member.position}</p>
                                </div>
                                ${socialSection}
                            </div>
                        </div>
                    `;

                    teamCarousel.appendChild(teamItem);
                });

                console.info(`[Team] Cargados ${teamData.length} miembros del equipo`);

                // Inicializar Owl Carousel después de cargar los datos
                setTimeout(() => {
                    initializeTeamCarousel();
                }, 100);

            } catch (error) {
                console.error('[Team] Error al cargar miembros del equipo:', error);
            }
        }
        
        // Make loadTeam function globally available
        window.loadTeam = loadTeam;
        
        // Función para hacer scroll suave a la sección de productos
        function scrollToProducts(event) {
            event.preventDefault();
            const productsSection = document.getElementById('products-section');
            const navbarHeight = document.getElementById('navbarContainer').offsetHeight;
            const topbarHeight = document.getElementById('topbar').classList.contains('hidden') ? 0 : 40;
            
            const targetPosition = productsSection.offsetTop - navbarHeight - topbarHeight;
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
        
        // Función para hacer scroll suave a la sección de contacto
        function scrollToContact(event) {
            event.preventDefault();
            const contactSection = document.getElementById('contact-section');
            const navbarHeight = document.getElementById('navbarContainer').offsetHeight;
            const topbarHeight = document.getElementById('topbar').classList.contains('hidden') ? 0 : 40;
            
            const targetPosition = contactSection.offsetTop - navbarHeight - topbarHeight;
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
        
        // Función genérica para scroll a secciones
        function scrollToSection(event, sectionId) {
            event.preventDefault();
            const section = document.querySelector(`#${sectionId}, .${sectionId}`);
            if (section) {
                const navbarHeight = document.getElementById('navbarContainer').offsetHeight;
                const topbarHeight = document.getElementById('topbar').classList.contains('hidden') ? 0 : 40;
                const targetPosition = section.offsetTop - navbarHeight - topbarHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        }
        
        // Función auxiliar para manejar el modal de historia
        function handleStoryModalClick(event) {
            event.preventDefault();
            
            // Verificar si la función del modal está disponible
            if (typeof window.openAboutStoryModal === 'function') {
                window.openAboutStoryModal(event);
            } else {
                // Si no está disponible, intentar cargar el script y luego ejecutar
                console.log('[Story Modal] Function not ready, attempting to initialize...');
                
                // Esperar un momento para que los scripts se carguen
                setTimeout(() => {
                    if (typeof window.openAboutStoryModal === 'function') {
                        window.openAboutStoryModal(event);
                    } else {
                        console.error('[Story Modal] Unable to load story modal function');
                        alert('El modal de historia no está disponible en este momento. Por favor, recarga la página e intenta nuevamente.');
                    }
                }, 100);
            }
        }
    </script>
    
    <!-- D3 World Map & Language Toggle Script -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3/dist/topojson-client.min.js"></script>
    <script>
        // ===================== Estado Global =====================
        let isEnglish = false;
        let lastScrollTop = 0;
        let mapDarkMode = true;
        let clientsData = [];
        let worldGeo = null;
        let d3MapInitialized = false;
        let mapSvg, mapG, colorScale, projection, pathGen, legendG;

        // ===================== Idioma =====================
        function syncLanguageUI() {
            const toggles = [document.getElementById('languageToggle'), document.getElementById('languageToggleMobile')].filter(Boolean);
            const esLabels = [document.getElementById('spanishLabel'), document.getElementById('spanishLabelMobile')].filter(Boolean);
            const enLabels = [document.getElementById('englishLabel'), document.getElementById('englishLabelMobile')].filter(Boolean);
            toggles.forEach(t => t.classList.toggle('active', isEnglish));
            esLabels.forEach(l => l.classList.toggle('active', !isEnglish));
            enLabels.forEach(l => l.classList.toggle('active', isEnglish));
            // Actualizar texto de botón de tema
            const themeBtn = document.getElementById('mapThemeBtn');
            if (themeBtn) themeBtn.textContent = mapDarkMode ? (isEnglish ? 'Light Theme' : 'Tema Claro') : (isEnglish ? 'Dark Theme' : 'Tema Oscuro');
        }

        function toggleLanguage(origin) {
            isEnglish = !isEnglish;
            syncLanguageUI();
            updateChoropleth();
            console.log('Idioma actual:', isEnglish ? 'EN' : 'ES', 'trigger:', origin || 'desktop');
        }

        // ===================== Navbar Scroll =====================
        function handleNavbarScroll() {
            const topbar = document.getElementById('topbar');
            const navbarContainer = document.getElementById('navbarContainer');
            const mainContent = document.getElementById('mainContent');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > 50) {
                topbar.classList.add('hidden');
                navbarContainer.classList.remove('with-topbar');
                navbarContainer.classList.add('without-topbar');
                mainContent.classList.add('topbar-hidden');
            } else {
                topbar.classList.remove('hidden');
                navbarContainer.classList.add('with-topbar');
                navbarContainer.classList.remove('without-topbar');
                mainContent.classList.remove('topbar-hidden');
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }

        // ===================== Carga de Datos =====================
    // loadClientsData: carga JSON de clientes. Cada objeto puede incluir:
    //  country (String)  Nombre (ES)
    //  value   (Number)  Métrica base (opcional si se usa intensity)
    //  projects(Number)  Número de proyectos (solo informativo)
    //  intensity (0..1)  Control manual del tono (0 = más claro, 1 = más intenso). Si falta, se calcula desde value.
    function loadClientsData() {
            const fullDataset = [ /* fallback interno ya sincronizado */
                { country: 'Colombia', value: 14, projects: 18, intensity: 1.00, productName: 'Extracto Premium CBD', productImage: 'img/products/cbd-premium.jpg' },
                { country: 'Estados Unidos', value: 13, projects: 16, intensity: 0.90, productName: 'Aceite Orgánico Full Spectrum', productImage: 'img/products/aceite-full-spectrum.jpg' },
                { country: 'Corea del Sur', value: 10, projects: 12, intensity: 0.60, productName: 'Cápsulas Softgel Balance', productImage: 'img/products/softgel-balance.jpg' },
                { country: 'Reino Unido', value: 11, projects: 13, intensity: 0.70, productName: 'Gotas Sublinguales Daily', productImage: 'img/products/gotas-daily.jpg' },
                { country: 'Japón', value: 10, projects: 12, intensity: 0.62, productName: 'Matcha Fusion CBD', productImage: 'img/products/matcha-fusion.jpg' },
                { country: 'Países Bajos', value: 9, projects: 11, intensity: 0.55, productName: 'Resina Terpénica Gold', productImage: 'img/products/resina-gold.jpg' },
                { country: 'Canadá', value: 11, projects: 13, intensity: 0.72, productName: 'Gominolas Relax Plus', productImage: 'img/products/gominolas-relax.jpg' },
                { country: 'España', value: 12, projects: 14, intensity: 0.80, productName: 'Crema Muscular Active', productImage: 'img/products/crema-muscular.jpg' },
                { country: 'Panamá', value: 9, projects: 11, intensity: 0.50, productName: 'Spray Rápida Absorción', productImage: 'img/products/spray-rapido.jpg' },
                { country: 'Ecuador', value: 9, projects: 11, intensity: 0.52, productName: 'Té Herbal Calm', productImage: 'img/products/te-herbal.jpg' },
                { country: 'Emiratos Árabes Unidos', value: 12, projects: 14, intensity: 0.82, productName: 'Serum Facial Renewal', productImage: 'img/products/serum-facial.jpg' },
                { country: 'Uzbekistán', value: 9, projects: 11, intensity: 0.48, productName: 'Infusión Nocturna Rest', productImage: 'img/products/infusion-rest.jpg' },
                { country: 'Rumania', value: 9, projects: 11, intensity: 0.49, productName: 'Bálsamo Regenerativo Skin', productImage: 'img/products/balsamo-skin.jpg' },
                { country: 'Qatar', value: 10, projects: 12, intensity: 0.58, productName: 'Roll-On Alivio Total', productImage: 'img/products/rollon-alivio.jpg' },
                { country: 'Kazajstán', value: 9, projects: 11, intensity: 0.47, productName: 'Elixir Botanical Core', productImage: 'img/products/elixir-core.jpg' },
                { country: 'Nueva Zelanda', value: 9, projects: 11, intensity: 0.53, productName: 'Tabletas Focus Mind', productImage: 'img/products/tabletas-focus.jpg' },
                { country: 'República Dominicana', value: 9, projects: 11, intensity: 0.54, productName: 'Shot Energético DayStart', productImage: 'img/products/shot-daystart.jpg' },
                { country: 'Rusia', value: 12, projects: 12, intensity: 0.78, productName: 'Gel Tópico Sport Recovery', productImage: 'img/products/gel-sport.jpg' }
            ];
            if(location.protocol === 'file:'){
                if(Array.isArray(window.CLIENTS_DATA) && window.CLIENTS_DATA.length){
                    clientsData = window.CLIENTS_DATA;
                    console.info('[ClientsMap] Usando datos offline (clients.js):', clientsData.length, 'registros');
                    return Promise.resolve();
                }
                console.warn('[ClientsMap] clients.js no encontrado o vacío, usando fallback embebido');
                clientsData = fullDataset;
                return Promise.resolve();
            }
            return fetch('data/clients.json', { cache: 'no-cache' })
                .then(r => { if(!r.ok) throw new Error('HTTP '+r.status); return r.json(); })
                .then(data => {
                    if(Array.isArray(data) && data.length){
                        clientsData = data;
                        console.info('[ClientsMap] Datos cargados desde JSON externo:', clientsData.length, 'registros');
                    } else { console.warn('[ClientsMap] JSON vacío/ inválido. Fallback'); clientsData = fullDataset; }
                })
                .catch(err => { console.warn('[ClientsMap] Error fetch, fallback embebido', err); clientsData = fullDataset; });
        }

        function loadWorldGeo() {
            // Fuente ligera TopoJSON Natural Earth (simplificada)
            return fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json')
                .then(r => r.json())
                .then(topo => { worldGeo = topojson.feature(topo, topo.objects.countries); });
        }

        // ===================== Inicialización del Mapa (D3) =====================
        function initD3Map() {
            if (d3MapInitialized) return;
            const container = document.getElementById('clientsMap');
            if (!container) return;
            const { width } = container.getBoundingClientRect();
            const height = container.clientHeight || 520;

            projection = d3.geoNaturalEarth1().fitExtent([[10,10],[width-10,height-10]], { type: 'Sphere' });
            pathGen = d3.geoPath().projection(projection);

            mapSvg = d3.select('#clientsMap')
                .append('svg')
                .attr('width', '100%')
                .attr('height', '100%')
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMidYMid meet')
                .style('display','block')
                .style('font-family','inherit');

            // Definiciones para efectos
            const defs = mapSvg.append('defs');
            const glow = defs.append('filter').attr('id','map-glow');
            glow.append('feGaussianBlur').attr('stdDeviation', '6').attr('result','coloredBlur');
            const feMerge = glow.append('feMerge');
            feMerge.append('feMergeNode').attr('in','coloredBlur');
            feMerge.append('feMergeNode').attr('in','SourceGraphic');

            mapG = mapSvg.append('g').attr('class','world-layer');

            // Zoom/Pan
            mapSvg.call(d3.zoom()
                .scaleExtent([0.9, 8])
                .on('zoom', (event) => {
                    mapG.attr('transform', event.transform);
                })
            );

            d3MapInitialized = true;
            prepareChoropleth();
        }

        function prepareChoropleth() {
            if (!worldGeo) return;
            const maxValue = Math.max(1, ...clientsData.map(d => d.value));
            const minValue = Math.min(...clientsData.map(d => d.value));
            const normalize = str => (str || '').toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'').replace(/[,']/g,'').trim();
            const dataIndex = new Map(clientsData.map(d => [normalize(d.country), d]));

            const nameMapES = {
                'United States': 'Estados Unidos', 'United States of America': 'Estados Unidos',
                'South Korea': 'Corea del Sur', 'Korea, Republic of': 'Corea del Sur',
                'United Kingdom': 'Reino Unido',
                'Netherlands': 'Países Bajos',
                'United Arab Emirates': 'Emiratos Árabes Unidos',
                'New Zealand': 'Nueva Zelanda',
                'Dominican Republic': 'República Dominicana',
                'Russia': 'Rusia', 'Russian Federation': 'Rusia',
                'Romania': 'Rumania',
                'Kazakhstan': 'Kazajstán',
                'Uzbekistan': 'Uzbekistán',
                'Spain': 'España',
                'Panama': 'Panamá',
                'Canada': 'Canadá',
                'Colombia': 'Colombia',
                'Qatar': 'Qatar',
                'Japan': 'Japón',
                'Ecuador': 'Ecuador'
            };
            const englishVariants = new Map(Object.keys(nameMapES).map(k => [normalize(k), k]));
            ['United States of America','Korea, Republic of','Russian Federation'].forEach(v => englishVariants.set(normalize(v), v));
            function resolveNames(raw){
                const rawNorm = normalize(raw);
                const en = englishVariants.get(rawNorm) || raw;
                const es = nameMapES[en] || en;
                return { en, es };
            }
            // Paleta manual para diferenciación (actualizada a tonos azules / aqua)
            const paletteDark = ['#0b2e3d','#0d3f55','#0f506d','#116285','#13739d','#1786b4','#1d9ac9','#27addb','#3bbde5','#55caec'];
            const paletteLight = ['#0d3a52','#0f4d6c','#125f85','#14729e','#1684b6','#1996ce','#1fa6dd','#35b6e6','#56c6ed','#78d5f3'];
            const palette = mapDarkMode ? paletteDark : paletteLight;
            function hash(s){let h=0;for(let i=0;i<s.length;i++){h=((h<<5)-h)+s.charCodeAt(i);h|=0;}return Math.abs(h);} 
            // pickColor: decide color final. Prioriza item.intensity si existe.
            function pickColor(item,en){
                if(!item) return mapDarkMode ? '#0c2a37' : '#d7efe2';
                // Preferir intensidad manual si existe (0..1)
                let norm = typeof item.intensity === 'number' ? Math.min(1, Math.max(0, item.intensity)) : (item.value - minValue)/(maxValue-minValue || 1);
                let idx = Math.round(norm*(palette.length-1));
                // Desplazar ligeramente por hash para evitar que países con misma intensidad sean idénticos
                idx = (idx + (hash(en)%2) + palette.length) % palette.length;
                return palette[idx];
            }

            // Tooltip
            let tooltip = d3.select('#clientsMap').select('.map-tooltip');
            if (tooltip.empty()) {
                tooltip = d3.select('#clientsMap')
                    .append('div')
                    .attr('class','map-tooltip')
                    .style('position','absolute')
                    .style('pointer-events','none')
                    .style('z-index','10')
                    .style('background','rgba(14,30,37,0.92)')
                    .style('backdrop-filter','blur(6px)')
                    .style('padding','10px 12px')
                    .style('border','1px solid rgba(255,255,255,0.08)')
                    .style('border-radius','10px')
                    .style('font-size','12px')
                    .style('line-height','1.35')
                    .style('color','#d8efe6')
                    .style('box-shadow','0 10px 25px -8px rgba(0,0,0,0.5)')
                    .style('opacity',0);
            }

            // Países
            const countries = mapG.selectAll('path.country')
                .data(worldGeo.features, d => d.id);

            countries.enter()
                .append('path')
                .attr('class','country')
                .attr('d', pathGen)
                .attr('fill', d => { const raw = d.properties.name || ''; const { en, es } = resolveNames(raw); const item = dataIndex.get(normalize(es)); return pickColor(item,en); })
                .attr('stroke', mapDarkMode ? '#1fa47c' : '#2d7b55')
                .attr('stroke-width', 0.5)
                .style('filter','url(#map-glow)')
                .on('mousemove', (event,d) => {
                    const raw = d.properties.name || ''; const { en, es } = resolveNames(raw); const item = dataIndex.get(normalize(es)); const displayName = isEnglish ? en : es; 
                    let html;
                    if(item){
                        const prodName = item.productName || '';
                        const prodImg = item.productImage ? `<div style='margin-top:8px;'><img src='${item.productImage}' alt='${prodName}' style='width:180px;max-width:180px;height:auto;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.45);object-fit:cover;'/></div>` : '';
                        html = `<strong style=\"color:#82e6b4;font-size:14px;letter-spacing:0.5px;\">${displayName}</strong>${prodName?`<div style='margin-top:6px;font-size:13px;font-weight:500;color:#d5f6ff;'>${prodName}</div>`:''}${prodImg}`;
                    } else {
                        html = `<strong style=\"color:#82e6b4;font-size:14px;letter-spacing:0.5px;\">${displayName}</strong><div style='margin-top:6px;font-size:12px;color:#aac7d4;'>${isEnglish?'No data':'Sin datos'}</div>`;
                    }
                    tooltip.html(html)
                        .style('left', (event.offsetX + 15) + 'px')
                        .style('top', (event.offsetY + 15) + 'px')
                        .transition().duration(120).style('opacity',1);
                })
                .on('mouseleave', () => tooltip.transition().duration(180).style('opacity',0));

            countries.transition().duration(600)
                .attr('fill', d => { const raw = d.properties.name || ''; const { en, es } = resolveNames(raw); const item = dataIndex.get(normalize(es)); return pickColor(item,en); })
                .attr('stroke', mapDarkMode ? '#1fa47c' : '#2d7b55');

            countries.exit().remove();
            drawLegend(maxValue);
        }

        function drawLegend(maxValue) {
            if (!mapSvg) return;
            if (!legendG) legendG = mapSvg.append('g').attr('class','legend');
            legendG.selectAll('*').remove();
            const w = 200, h = 10;
            const x = d3.scaleLinear().domain([0, maxValue]).range([0, w]);
            // Gradient
            const defs = mapSvg.select('defs');
            const gradId = 'legend-gradient';
            let lg = defs.select(`#${gradId}`);
            if (lg.empty()) lg = defs.append('linearGradient').attr('id', gradId);
            lg.selectAll('stop').remove();
            const stops = d3.range(0,1.01,0.1);
            stops.forEach(s => {
                lg.append('stop').attr('offset', (s*100)+'%').attr('stop-color', colorScale(s*maxValue));
            });
            lg.attr('x1','0%').attr('x2','100%').attr('y1','0%').attr('y2','0%');

            legendG.attr('transform','translate(40,440)');
            legendG.append('rect')
                .attr('width', w)
                .attr('height', h)
                .attr('fill', `url(#${gradId})`)
                .attr('rx',4).attr('ry',4)
                .attr('stroke','rgba(255,255,255,0.15)')
                .attr('stroke-width',0.5);

            const axis = d3.axisBottom(x).ticks(5).tickSize(4).tickFormat(d => d);
            legendG.append('g')
                .attr('transform',`translate(0,${h})`)
                .call(axis)
                .selectAll('text')
                .style('fill', mapDarkMode ? '#b9d5e5' : '#0c2a1d')
                .style('font-size','10px');
            legendG.selectAll('line')
                .style('stroke', mapDarkMode ? '#b9d5e5' : '#0c2a1d');
            legendG.append('text')
                .attr('x', w/2)
                .attr('y', -8)
                .attr('text-anchor','middle')
                .style('fill', mapDarkMode ? '#b9d5e5' : '#0c2a1d')
                .style('font-size','11px')
                .style('font-weight',600)
                .text(isEnglish ? 'Presence Index' : 'Índice de Presencia');
        }

        function updateChoropleth() {
            if (!d3MapInitialized) return;
            prepareChoropleth();
        }

        function refreshClientsMap() {
            // recarga de datos manual (botón Actualizar) - vuelve a dibujar
            loadClientsData().then(() => updateChoropleth());
        }

        function toggleMapTheme() {
            mapDarkMode = !mapDarkMode;
            syncLanguageUI();
            updateChoropleth();
        }



        // ===================== Listeners & Init =====================
        document.addEventListener('DOMContentLoaded', function() {
            const desktopToggle = document.getElementById('languageToggle');
            if (desktopToggle) setTimeout(() => desktopToggle.style.opacity = '1', 400);
            syncLanguageUI();
            const navbarContainer = document.getElementById('navbarContainer');
            navbarContainer.classList.add('with-topbar');
            window.addEventListener('scroll', handleNavbarScroll);

            // Lazy init con IntersectionObserver
            const mapEl = document.getElementById('clientsMap');
            if (mapEl) {

                const obs = new IntersectionObserver(entries => {
                    entries.forEach(e => {
                        if (e.isIntersecting) {
                            Promise.all([loadWorldGeo(), loadClientsData()])
                                .then(() => { initD3Map(); })
                                .then(() => updateChoropleth());
                            obs.disconnect();
                        }
                    });
                }, { threshold: 0.15 });
                obs.observe(mapEl);
            }
            window.addEventListener('resize', () => {
               
                if (!d3MapInitialized) return;
                // Recalcular proyección responsiva
                const container = document.getElementById('clientsMap');
                const { width } = container.getBoundingClientRect();
                const height = container.clientHeight || 520;
                projection.fitExtent([[10,10],[width-10,height-10]], { type: 'Sphere' });
                pathGen = d3.geoPath().projection(projection);
                mapG.selectAll('path.country').attr('d', pathGen);
                updateChoropleth();
            });
        });

       

        // Scroll throttling
        let ticking = false;
       
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(handleNavbarScroll);
                ticking = true;
                setTimeout(() => { ticking = false; }, 16);
            }
        }
        window.addEventListener('scroll', requestTick);
    </script>

    <!-- Datos offline para file:// -->
    <script src="data/clients.js"></script>
    <script src="data/products.js"></script>
    <script src="data/about-images.js"></script>
    <script src="data/team.js"></script>
    <script src="data/testimonials.js"></script>
    <!-- NC Slider Script -->
    <script src="NC/script.js"></script>
    <script src="js/testimonials-loader.js"></script>
    <!-- Contact Parallax Script -->
    <script src="js/contact-parallax.js"></script>
    <!-- Premium Gallery Script -->
    <script src="js/premium-gallery.js"></script>
    <!-- Neumorphic Story Script -->
    <script src="js/neumorphic-story.js"></script>

    <!-- Premium Gallery Modal -->
    <div class="premium-gallery-modal" id="productGalleryModal">
        <div class="gallery-modal-overlay" onclick="closeProductGallery()"></div>
        <div class="gallery-modal-container">
            <div class="gallery-modal-header">
                <h2 class="gallery-title">
                    <i class="fas fa-leaf gallery-icon"></i>
                    <span data-i18n="gallery.title">Nuestra Colección Premium</span>
                </h2>
                <button class="gallery-close-btn" onclick="closeProductGallery()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="gallery-modal-content">
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery items will be loaded here -->
                </div>
            </div>
            
            <div class="gallery-modal-footer">
                <p class="gallery-subtitle" data-i18n="gallery.subtitle">
                    Plantas y follajes de la más alta calidad para espacios excepcionales
                </p>
            </div>
        </div>
    </div>

    <!-- About Story Neumorphic Modal -->
    <div class="about-story-modal" id="aboutStoryModal">
        <div class="story-modal-overlay" onclick="closeAboutStoryModal()" style="background: url(https://www.thegreengenie.com.co/images/DSC01657.jpg); background-size: cover;"></div>
        <div class="story-modal-container">
            <div class="story-modal-header">
                <div class="story-header-content">
                    <h1 class="story-title" data-i18n="story.title">The Green Genie</h1>
                    <p class="story-subtitle" data-i18n="story.subtitle">Nuestra Historia de Crecimiento</p>
                </div>
                <button class="story-close-btn" onclick="closeAboutStoryModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="story-modal-content" id="storyContent">
                <!-- Story content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Resto de scripts existentes abajo -->
    <!-- Language Toggle Script -->
    <script src="js/language-toggle.js"></script>
</body>

</html>