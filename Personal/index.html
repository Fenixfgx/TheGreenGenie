<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>PERSONAL</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Hoja de Cálculo de Google</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<h1 style=" text-align: center;">Personal Activo en Informe</h1>
  <div style=" display: flex;">
    <div id="table-container"><button id="reloadButton" class="bot" style="
    margin-left: 8px;
    margin-bottom: 7px;
"> Recargar
<svg fill="#000000" height="15px" width="15px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 489.711 489.711" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M112.156,97.111c72.3-65.4,180.5-66.4,253.8-6.7l-58.1,2.2c-7.5,0.3-13.3,6.5-13,14c0.3,7.3,6.3,13,13.5,13 c0.2,0,0.3,0,0.5,0l89.2-3.3c7.3-0.3,13-6.2,13-13.5v-1c0-0.2,0-0.3,0-0.5v-0.1l0,0l-3.3-88.2c-0.3-7.5-6.6-13.3-14-13 c-7.5,0.3-13.3,6.5-13,14l2.1,55.3c-36.3-29.7-81-46.9-128.8-49.3c-59.2-3-116.1,17.3-160,57.1c-60.4,54.7-86,137.9-66.8,217.1 c1.5,6.2,7,10.3,13.1,10.3c1.1,0,2.1-0.1,3.2-0.4c7.2-1.8,11.7-9.1,9.9-16.3C36.656,218.211,59.056,145.111,112.156,97.111z"></path> <path d="M462.456,195.511c-1.8-7.2-9.1-11.7-16.3-9.9c-7.2,1.8-11.7,9.1-9.9,16.3c16.9,69.6-5.6,142.7-58.7,190.7 c-37.3,33.7-84.1,50.3-130.7,50.3c-44.5,0-88.9-15.1-124.7-44.9l58.8-5.3c7.4-0.7,12.9-7.2,12.2-14.7s-7.2-12.9-14.7-12.2l-88.9,8 c-7.4,0.7-12.9,7.2-12.2,14.7l8,88.9c0.6,7,6.5,12.3,13.4,12.3c0.4,0,0.8,0,1.2-0.1c7.4-0.7,12.9-7.2,12.2-14.7l-4.8-54.1 c36.3,29.4,80.8,46.5,128.3,48.9c3.8,0.2,7.6,0.3,11.3,0.3c55.1,0,107.5-20.2,148.7-57.4 C456.056,357.911,481.656,274.811,462.456,195.511z"></path> </g> </g> </g></svg>
  </button></div>
    
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span style="display: none;"class="close" id="closeModal">&times; </span>
<h2 style="margin-top: 0px;text-align: center; padding-bottom: 12px;" id="modalTitle"></h2>
<p><strong>Horas Nominal:</strong> <span id="modalE"></span></p>
<p><strong>Horas Extra:</strong> <span id="modalF"></span></p>
          <p><strong>Salario Nominal:</strong> <span id="modalB"></span></p>
<p><strong>Salario Extra:</strong> <span id="modalC"></span></p>
<p style="border-top: solid;padding-top: 12px;"><strong>Salario Total:</strong> <span id="modalD"></span></p>
        </div>
    </div>
    <div>
<canvas id="MiGrafica" class="GR" style="box-sizing: border-box; display: block; height: 276px; width: 276px;" width="276" height="276"></canvas>
<canvas id="MiGrafica2" class="GR" style="box-sizing: border-box; display: block; height: 100px; width: 276px;" width="276" height="120"></canvas>
    </div>
    </div>
  <div style="display:none">
    <label for="horasNominal">Horas Nominal:</label>
    <input type="text" id="horasNominal">
  </div>
  <div style="display:none">
    <label for="horasExtra">Horas Extra:</label>
    <input type="text" id="horasExtra">
  </div>
  <div style="display:none">
    <label for="Nominal">Nominal:</label>
    <input type="text" id="Nominal">
  </div>
  <div style="display:none">
    <label for="Extra">Extra:</label>
    <input type="text" id="Extra">
  </div>
<script>
    var miCanvas = document.getElementById("MiGrafica").getContext("2d");
    var chart; // Variable para almacenar la instancia del gráfico
    var horasNominalInput = document.getElementById("horasNominal");
    var horasExtraInput = document.getElementById("horasExtra");

    function actualizarGrafica() {
      if (chart) {
        chart.destroy(); // Destruir la instancia anterior del gráfico si existe
      }

      const horasNominal = parseFloat(horasNominalInput.value) || 0;
      const horasExtra = parseFloat(horasExtraInput.value) || 0;

      chart = new Chart(miCanvas, {
        type: "doughnut",
        data: {
          labels: ["Horas Nominal", "Horas Extra"],
          datasets: [
            {
              label: "Horas Laboradas",
              data: [horasNominal, horasExtra],
              backgroundColor: ["#2a37c3e0", "#FFC300"],
            },
          ],
        },
      options: {
      plugins: {
        legend: {
          labels: {
            font: {
              size: 16 // Tamaño de fuente de las etiquetas
            }
          }
        }
      }
    }
      });
    }

    // Llama a la función de actualización al cargar la página
    actualizarGrafica();
  </script>
  <script>
var miCanvas2 = document.getElementById("MiGrafica2").getContext("2d");
var chart2; // Variable para almacenar la instancia del gráfico
var NominalInput = document.getElementById("Nominal");
var ExtraInput = document.getElementById("Extra");

function actualizarGrafica2() {
  if (chart2) {
    chart2.destroy(); // Destruir la instancia anterior del gráfico si existe
  }

  const Nominal = parseFloat(NominalInput.value) || 0;
  const Extra = parseFloat(ExtraInput.value) || 0;

  chart2 = new Chart(miCanvas2, {
    type: "bar",
    data: {
      labels: ["Salario"],
      datasets: [
        {
          label: "Nominal",
          data: [Nominal],
          backgroundColor: "#2a37c3e0"
        },
        {
          label: "Extra",
          data: [Extra],
          backgroundColor: "#FFC300"
        }
      ]
    },
    options: {
      indexAxis: "y",
      responsive: true,
      scales: {
        x: {
          stacked: true // Apilar las barras horizontalmente
        },
        y: {
          stacked: true
        }
      },
      plugins: {
        legend: {
          display: true,
          labels: {
            font: {
              size: 16 // Tamaño de fuente de las etiquetas
            }
          }
        }
      }
    }
  });
}

// Llama a la función de actualización al cargar la página
actualizarGrafica2();


  </script>
</body>
</html>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
